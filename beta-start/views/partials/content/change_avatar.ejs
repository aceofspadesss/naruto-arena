<div
    style="padding: 0px 0px 0px 0px;  margin:0px 0px 0px 0px; top:217px; position:absolute; background-color:white; left:200px; width:565px; line-height: 16px; border-top: 1px black solid; border-left: 1px black solid;  height:1200px;">
    <div
        style="padding: 0px 0px 0px 0px;  height:1200px; margin:10px 10px 10px 10px; font: normal normal normal 11px/normal Trebuchet MS, arial, verdana, sans-serif; color:#000000;">
        <h1>Change avatar</h1><br><a href='/'>Naruto Arena</a> > <a href='/control-panel'>Control panel</a> > <h2>Change
            avatar</h2>
        <br><br>

        <center>
            <% if (typeof success !=='undefined' && success) { %>
                <div class="succesfull">
                    <%= success %>
                </div><br>
                <% } %>
                    <% if (typeof error !=='undefined' && error) { %>
                        <div class="error">
                            <%= error %>
                        </div><br>
                        <% } %>
        </center>

        <!-- Pre-defined Standard Avatars -->
        <fieldset style="border: 1px solid #999; padding: 10px; margin-bottom: 20px;">
            <legend style="font-weight: bold;">Pre-defined Standard Avatars</legend>

            <form method="post" action="/change-avatar/preset">
                <table width="100%" cellpadding="5">
                    <% const avatarsPerRow=5; for (let i=0; i < presetAvatars.length; i +=avatarsPerRow) { %>
                        <tr>
                            <% for (let j=i; j < i + avatarsPerRow && j < presetAvatars.length; j++) { %>
                                <td align="center" style="padding: 5px;">
                                    <input type="radio" name="preset_avatar" value="<%= presetAvatars[j] %>"
                                        id="avatar_<%= j %>" <% if (currentAvatar==='/images/avatars/preset/' +
                                        presetAvatars[j]) { %>checked<% } %>>
                                        <br>
                                        <label for="avatar_<%= j %>">
                                            <img src="/images/avatars/preset/<%= presetAvatars[j] %>"
                                                alt="<%= presetAvatars[j] %>" width="75" height="75"
                                                style="border: 2px solid #ccc; cursor: pointer;">
                                        </label>
                                </td>
                                <% } %>
                                    <% for (let k=presetAvatars.length; k < i + avatarsPerRow && i + avatarsPerRow>
                                        presetAvatars.length; k++) { %>
                                        <td></td>
                                        <% } %>
                        </tr>
                        <% } %>
                </table>

                <!-- Pagination -->
                <div style="text-align: center; margin-top: 15px; margin-bottom: 10px;">
                    [Page <%= currentPage %>/<%= totalPages %>]
                            <% for (let p=1; p <=totalPages; p++) { %>
                                <% if (p===currentPage) { %>
                                    <b>
                                        <%= p %>
                                    </b>
                                    <% } else { %>
                                        <a href="/change-avatar?page=<%= p %>">
                                            <%= p %>
                                        </a>
                                        <% } %>
                                            <% } %>

                                                &nbsp;&nbsp;

                                                <select
                                                    onchange="window.location.href='/change-avatar?page=' + this.value">
                                                    <% for (let p=1; p <=totalPages; p++) { %>
                                                        <option value="<%= p %>" <% if (p===currentPage) { %>selected<%
                                                                } %>>Page <%= p %>
                                                        </option>
                                                        <% } %>
                                                </select>
                </div>

                <div style="text-align: center;">
                    <input type="submit" value="Set avatar">
                </div>
            </form>
        </fieldset>

        <br>

        <!-- Upload Custom Avatar -->
        <fieldset style="border: 1px solid #999; padding: 10px;">
            <legend style="font-weight: bold;">Upload Custom Avatar</legend>

            <div style="margin-bottom: 15px;">
                <u>About uploading a custom avatar:</u><br><br>
                1. Custom avatars may not be over 100 KB<br>
                2. Only .jpg format is permitted. Otherwise the avatar would not work in-game.<br>
                3. Custom avatars should be exactly 75 pixels wide and 75 pixels height
            </div>

            <table>
                <tr>
                    <td style="padding-right: 20px; vertical-align: top;">
                        <b>Avatar</b><br>
                        <img src="<%= currentAvatar %>" alt="Current avatar" width="75" height="75"
                            style="border: 2px solid #ccc; margin-top: 5px;">
                    </td>
                    <td style="vertical-align: top;">
                        <form method="post" action="/change-avatar/upload" enctype="multipart/form-data">
                            Upload a custom avatar:<br><br>
                            <input type="file" name="avatar" accept=".jpg,.jpeg" required><br><br>
                            <input type="submit" value="Upload">
                        </form>
                    </td>
                </tr>
            </table>
        </fieldset>

        <br><br><br>
        <div class="dots"></div><br>
    </div>
</div>